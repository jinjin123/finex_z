<!doctype html>
<html lang="zxx">

<include file="./Public/Home/fe/base/head.html" />

<body>
    <include file="./Public/Home/fe/base/loader.html" />

    <div class="site-content">

        <include file="./Public/Home/fe/base/nav.html" />

        <div id="sticky-header"></div>
        <div class="page-title-area bg-primary" style="background-image: url('__CDN1__/fe/static/images/shape-dot1.png')">
            <div class="shape-group">
                <div class="shape"></div>
                <div class="shape"></div>
                <div class="shape"></div>
                <div class="shape"></div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="page-header-content text-center">
                            <div class="page-header-caption">
                                <h2 class="page-title">My Account</h2>
                            </div>
                            <div class="breadcrumb-area">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                                    <li class="breadcrumb-item active">Sign In</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="user-signup-block ptb-120">
            <div class="bg-left bg-image" style="background-image: url('__CDN1__/fe/static/images/signup-shape.png')"></div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="sing-up-mockup">
                            <img src="__CDN1__/fe/static/picture/signup-mockup.png" alt="Mockup">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="user-register-area">
                            <div class="form-content">
                                <div class="form-header">
                                    <h4 class="form-subheading">Sign Up here</h4>
                                    <h2 class="heading">Welcome To SpaceFinEX</h2>
                                </div>
                                <form class="default-form signup-form" method="post" action="">
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="Email">Email Address</label>
                                                <input id="Email" name="email" class="form-controller" type="email" placeholder="Your Email Address">
                                            </div>
                                        </div>
                                        <!--                                    <div class="col-lg-6">-->
                                        <!--                                        <div class="form-group">-->
                                        <!--                                            <label for="InviteCode">Invitation Code-->
                                        <!--                                            </label>-->
                                        <!--                                            <input id="InviteCode" name="code" class="form-controller"-->
                                        <!--                                                   type="text" value="{$Think.get.code}">-->
                                        <!--                                        </div>-->
                                        <!--                                    </div>-->
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="f_name">　</label>
                                                <button id="sendCode" type="button" class="btn btn-block btn-default btn-primary" style="padding:14px 30px 10px;">Get Email
                                                Code
                                            </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="EmailCode">Email Code</label>
                                                <input id="EmailCode" name="email_code" class="form-controller" type="text">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="PassWord">Password</label>
                                                <input id="PassWord" name="password" class="form-controller" type="password">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="RePassWord"> Confirm Password</label>
                                                <input id="RePassWord" name="repassword" class="form-controller" type="password">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="login-form-remember">
                                        <label>
                                        <input name="agree" type="checkbox" checked="false">
                                        <span>
                                                I agree to the 
                                                <a href="/index/terms.html">Terms, Privacy policy and fees</a>
                                            </span>
                                    </label>
                                    </div>
                                    <div class="login-form-remember">
                                        <label>
                                        <input name="receive" type="checkbox" checked="false">
                                        <span>Yes, I want to receive Email</span>
                                    </label>
                                    </div>
                                    <div class="form-btn-group">
                                        <div class="form-login-area">
                                            <button type="submit" class="btn btn-default btn-primary">Sign Up</button>
                                        </div>
                                        <div class="login-form-register-now">
                                            You have an account.
                                            <a class="btn-register-now" href="/login/showLogin">Sign In</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            toastr.options = {
                "debug": false,
                "progressBar": true,
                "positionClass": "toast-bottom-full-width",
                "onclick": null,
                "fadeIn": 300,
                "fadeOut": 1000,
                "timeOut": 5000,
                "extendedTimeOut": 1000
            };

            $(function() {

                //发送验证码
                $('#sendCode').click(function() {
                    var email = $('input[name="email"]').val()
                    if (email == '') {
                        layer.msg('email is empty');
                        return;
                    }
                    layer.msg('Sending...', {
                        time: 2000
                    });
                    $.ajax({
                        url: 'sendEmail.html',
                        data: {
                            email: email
                        },
                        type: 'POST',
                        dateJson: 'JSON',
                        success: function(resp) {
                            layer.msg(resp.msg);
                        }
                    });
                })

                //提交
                $('button[type="submit"]').click(function() {
                    var email = $('input[name="email"]').val();
                    var code = $('input[name="code"]').val();
                    var emailCode = $('input[name="email_code"]').val();
                    var password = $('input[name="password"]').val();
                    var repassword = $('input[name="repassword"]').val();
                    var agree = $('input[name="agree"]').prop('checked');
                    var receive = $('input[name="receive"]').prop('checked');

                    if (email == '') {
                        layer.msg('email is empty');
                        return false;
                    }
                    if (code == '') {
                        layer.msg('invite code is empty');
                        return false;
                    }
                    if (emailCode == '') {
                        layer.msg('email verify code is empty');
                        return false;
                    }
                    if (password == '') {
                        layer.msg('password is empty');
                        return false;
                    }
                    if (repassword == '') {
                        layer.msg('comfirm password is empty');
                        return false;
                    }
                    if (password != repassword) {
                        layer.msg('password is invalid');
                        return false;
                    }
                    if (!agree || !receive) {
                        layer.msg('please press agree');
                        return false;
                    }

                    layer.closeAll();
                    layer.load(2, {
                        shade: [0.3, '#666']
                    });

                    $.ajax({
                        url: 'subRegister',
                        data: {
                            email: email,
                            code: code,
                            email_code: emailCode,
                            password: password
                        },
                        type: 'POST',
                        dataType: 'JSON',
                        success: function(resp) {
                            layer.closeAll();
                            if (resp.code == 200) {
                                location.href = '/login/showLogin';
                            }
                            layer.msg(resp.msg);
                        }
                    });

                    return false;

                });
            })

            // function sendCode() {
            //     $.getJSON('', function (Json) {
            //         if (Json.code == 200) {
            //             toastr.success(Json.Msg);
            //         } else {
            //             toastr.error(Json.Msg);
            //         }
            //     })
            // }
        </script>

        <include file="./Public/Home/fe/base/footer.html" />
    </div>
</body>

</html>